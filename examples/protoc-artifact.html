<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.6 at 2015-04-28 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Maven Protoc Plugin &#x2013; Resolving Protoc Artifact From Maven Central Repo</title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20150428" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                Maven Protoc Plugin
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2015-04-28</span>
                  &nbsp;| <span id="projectVersion">Version: 0.4.1</span>
                      </div>
            <div class="xright">                    <a href="http://code.google.com/p/protobuf/" class="externalLink" title="Google Protocol Buffers">Google Protocol Buffers</a>
              
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="../plugin-info.html" title="Goals">Goals</a>
            </li>
                  <li class="none">
                          <a href="../usage.html" title="Usage">Usage</a>
            </li>
                  <li class="none">
                          <a href="../faq.html" title="FAQ">FAQ</a>
            </li>
          </ul>
                       <h5>Examples</h5>
                  <ul>
                  <li class="none">
                          <a href="../examples/protobuf-toolchain.html" title="Protobuf Toolchain">Protobuf Toolchain</a>
            </li>
                  <li class="none">
            <strong>Protoc Artifact</strong>
          </li>
                  <li class="none">
                          <a href="../examples/protoc-plugin.html" title="Custom Protoc Plugins">Custom Protoc Plugins</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                      <li class="collapsed">
                          <a href="../project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                <li class="collapsed">
                          <a href="../project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!-- APT Format: http://maven.apache.org/doxia/references/apt-format.html --><div class="section">
<h2><a name="Resolving_Protoc_Artifact_From_Maven_Central_Repo"></a>Resolving Protoc Artifact From Maven Central Repo</h2>
<div class="section">
<h3><a name="Overview"></a>Overview</h3>
<p>Starting with versions <tt>2.6.1</tt> and <tt>3.0.0-alpha-2</tt> of <tt>protoc</tt>, its binary executables for all major operating systems are available as artifacts in Maven central. These artifacts can be referenced in plugin configuration as described below. The plugin automatically resolves and downloads the <tt>protoc</tt> executable, and uses it for compiling protobuf definitions.</p></div>
<div class="section">
<h3><a name="Usage"></a>Usage</h3>
<p>It is recommended to use <a class="externalLink" href="https://github.com/trustin/os-maven-plugin"> os-maven-plugin</a> to automatically generate a classifier for the current OS and architecture. The same plugin is used by protobuf team at Google to generate classifiers for <tt>protoc</tt> artifacts.</p>
<p>Plugin parameter <tt>protocArtifact</tt> can be used for specifying artifact coordinates in a <tt>groupId:artifactId:version[:type[:classifier]]</tt> format.</p>
<p>A sample configuration is provided below:</p>
<div class="source">
<pre>
&lt;project&gt;
  ...
  &lt;build&gt;
    &lt;extensions&gt;
      &lt;extension&gt;
        &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;
        &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.2.3.Final&lt;/version&gt;
      &lt;/extension&gt;
    &lt;/extensions&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;com.google.protobuf.tools&lt;/groupId&gt;
        &lt;artifactId&gt;maven-protoc-plugin&lt;/artifactId&gt;
        &lt;version&gt;0.4.1&lt;/version&gt;
        &lt;extensions&gt;true&lt;/extensions&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;goal&gt;compile&lt;/goal&gt;
              &lt;goal&gt;test-compile&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
              &lt;protocArtifact&gt;com.google.protobuf:protoc:2.6.1:exe:${os.detected.classifier}&lt;/protocArtifact&gt;
            &lt;/configuration&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
      ...
    &lt;/plugins&gt;
    ...
  &lt;/build&gt;
  ...
&lt;/project&gt;

</pre></div></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2015.
          All rights reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
